import{r as l,u as o,b as f,f as x,j as s}from"./index-h0TlBC4D.js";import{P as S,F as j,S as P}from"./styles-fiBdVnwa.js";import{P as g,a as b}from"./ProductSkeleton-u65BbIpr.js";const i="https://65c52bc7dae2304e92e4009d.mockapi.io/items";function N({appStatus:c,searchData:r}){switch(c){case"loading":return[...new Array(16)].map((a,t)=>s.jsx(b,{},t));case"success":return r&&r.map((a,t)=>s.jsx(g,{product:a},t));case"error":return s.jsxs("h3",{className:"error-title",children:["Ooops..., we have some problem, ",s.jsx("br",{}),"reload page or try later"]});default:return null}}const E=()=>{const[c,r]=l.useState(!1),[a,t]=l.useState(!1),{appStatus:d}=o(e=>e.app.configState),{currentSearchValue:n}=o(e=>e.search),{searchData:p}=o(e=>e.search),{category:u}=o(e=>e.categories),h=f();l.useEffect(()=>{n&&h(x({url:i,category:u,currentSearchValue:n}))},[u]);const m={filterState:c,openSort:a,setFilterState:r,setOpenSort:t};return s.jsxs(S,{dataState:m,children:[s.jsx(j,{url:i,filterState:c,setFilterState:r}),s.jsxs("div",{className:"products",children:[s.jsxs("h4",{className:"result-headline",children:['search results for "',n,'"']}),s.jsx("div",{className:"products-sort",children:s.jsx(P,{openSort:a,setOpenSort:t})}),s.jsx("div",{className:"products-box",children:N({appStatus:d,searchData:p})})]})]})};export{E as default};
