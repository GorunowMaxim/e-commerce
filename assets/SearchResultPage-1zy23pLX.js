import{r as u,u as o,b as f,f as x,j as s}from"./index-2pOldv1w.js";import{P as S,F as j,S as P}from"./styles-2kFwTefx.js";import{P as g,a as b}from"./ProductSkeleton-ke6smBGi.js";const i="https://65c52bc7dae2304e92e4009d.mockapi.io/items";function N({appStatus:a,source:c}){switch(a){case"loading":return[...new Array(16)].map((r,t)=>s.jsx(b,{},t));case"success":return c.map((r,t)=>s.jsx(g,{product:r},t));case"error":return s.jsxs("h3",{className:"error-title",children:["Ooops..., we have some problem, ",s.jsx("br",{}),"reload page or try later"]});default:return null}}const E=()=>{const[a,c]=u.useState(!1),[r,t]=u.useState(!1),{appStatus:d}=o(e=>e.app.configState),{currentSearchValue:n}=o(e=>e.search),{source:p}=o(e=>e.products),{category:l}=o(e=>e.categories),h=f();u.useEffect(()=>{n&&h(x({url:i,category:l,currentSearchValue:n}))},[l]);const m={filterState:a,openSort:r,setFilterState:c,setOpenSort:t};return s.jsxs(S,{dataState:m,children:[s.jsx(j,{url:i,filterState:a,setFilterState:c}),s.jsxs("div",{className:"products",children:[s.jsxs("h4",{className:"result-headline",children:['search results for "',n,'"']}),s.jsx("div",{className:"products-sort",children:s.jsx(P,{openSort:r,setOpenSort:t})}),s.jsx("div",{className:"products-box",children:N({appStatus:d,source:p})})]})]})};export{E as default};
